{"ast":null,"code":"import { useReducer, useEffect } from 'react';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar defaultState = function (defaultValue) {\n  return {\n    loading: defaultValue === undefined || defaultValue === null,\n    value: defaultValue\n  };\n};\n\nvar reducer = function () {\n  return function (state, action) {\n    switch (action.type) {\n      case 'error':\n        return __assign({}, state, {\n          error: action.error,\n          loading: false,\n          value: undefined\n        });\n\n      case 'reset':\n        return defaultState(action.defaultValue);\n\n      case 'value':\n        return __assign({}, state, {\n          error: undefined,\n          loading: false,\n          value: action.value\n        });\n\n      default:\n        return state;\n    }\n  };\n};\n\nvar useLoadingValue = function (getDefaultValue) {\n  var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\n\n  var _a = useReducer(reducer(), defaultState(defaultValue)),\n      state = _a[0],\n      dispatch = _a[1];\n\n  var reset = function () {\n    var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\n    dispatch({\n      type: 'reset',\n      defaultValue: defaultValue\n    });\n  };\n\n  var setError = function (error) {\n    dispatch({\n      type: 'error',\n      error: error\n    });\n  };\n\n  var setValue = function (value) {\n    dispatch({\n      type: 'value',\n      value: value\n    });\n  };\n\n  return {\n    error: state.error,\n    loading: state.loading,\n    reset: reset,\n    setError: setError,\n    setValue: setValue,\n    value: state.value\n  };\n};\n\nvar useAuthState = function (auth) {\n  var _a = useLoadingValue(function () {\n    return auth.currentUser;\n  }),\n      error = _a.error,\n      loading = _a.loading,\n      setError = _a.setError,\n      setValue = _a.setValue,\n      value = _a.value;\n\n  useEffect(function () {\n    var listener = auth.onAuthStateChanged(setValue, setError);\n    return function () {\n      listener();\n    };\n  }, [auth]);\n  return [value, loading, error];\n};\n\nexport { useAuthState };","map":{"version":3,"sources":["D:/GitHub/coterie/node_modules/react-firebase-hooks/auth/dist/index.esm.js"],"names":["useReducer","useEffect","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defaultState","defaultValue","loading","undefined","value","reducer","state","action","type","error","useLoadingValue","getDefaultValue","_a","dispatch","reset","setError","setValue","useAuthState","auth","currentUser","listener","onAuthStateChanged"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;AAEA;;;;;;;;;;;;;;;AAeA,IAAIC,QAAQ,GAAG,YAAW;AACtBA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,SAASF,QAAT,CAAkBG,CAAlB,EAAqB;AAC7C,SAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AACA,WAAK,IAAII,CAAT,IAAcL,CAAd,EAAiB,IAAIH,MAAM,CAACS,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EAAgDN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AACpE;;AACD,WAAON,CAAP;AACH,GAND;;AAOA,SAAOH,QAAQ,CAACa,KAAT,CAAe,IAAf,EAAqBN,SAArB,CAAP;AACH,CATD;;AAWA,IAAIO,YAAY,GAAG,UAAUC,YAAV,EAAwB;AACvC,SAAO;AACHC,IAAAA,OAAO,EAAED,YAAY,KAAKE,SAAjB,IAA8BF,YAAY,KAAK,IADrD;AAEHG,IAAAA,KAAK,EAAEH;AAFJ,GAAP;AAIH,CALD;;AAMA,IAAII,OAAO,GAAG,YAAY;AAAE,SAAO,UAAUC,KAAV,EAAiBC,MAAjB,EAAyB;AACxD,YAAQA,MAAM,CAACC,IAAf;AACI,WAAK,OAAL;AACI,eAAOtB,QAAQ,CAAC,EAAD,EAAKoB,KAAL,EAAY;AAAEG,UAAAA,KAAK,EAAEF,MAAM,CAACE,KAAhB;AAAuBP,UAAAA,OAAO,EAAE,KAAhC;AAAuCE,UAAAA,KAAK,EAAED;AAA9C,SAAZ,CAAf;;AACJ,WAAK,OAAL;AACI,eAAOH,YAAY,CAACO,MAAM,CAACN,YAAR,CAAnB;;AACJ,WAAK,OAAL;AACI,eAAOf,QAAQ,CAAC,EAAD,EAAKoB,KAAL,EAAY;AAAEG,UAAAA,KAAK,EAAEN,SAAT;AAAoBD,UAAAA,OAAO,EAAE,KAA7B;AAAoCE,UAAAA,KAAK,EAAEG,MAAM,CAACH;AAAlD,SAAZ,CAAf;;AACJ;AACI,eAAOE,KAAP;AARR;AAUH,GAX2B;AAWxB,CAXJ;;AAYA,IAAII,eAAe,GAAI,UAAUC,eAAV,EAA2B;AAC9C,MAAIV,YAAY,GAAGU,eAAe,GAAGA,eAAe,EAAlB,GAAuBR,SAAzD;;AACA,MAAIS,EAAE,GAAG5B,UAAU,CAACqB,OAAO,EAAR,EAAYL,YAAY,CAACC,YAAD,CAAxB,CAAnB;AAAA,MAA4DK,KAAK,GAAGM,EAAE,CAAC,CAAD,CAAtE;AAAA,MAA2EC,QAAQ,GAAGD,EAAE,CAAC,CAAD,CAAxF;;AACA,MAAIE,KAAK,GAAG,YAAY;AACpB,QAAIb,YAAY,GAAGU,eAAe,GAAGA,eAAe,EAAlB,GAAuBR,SAAzD;AACAU,IAAAA,QAAQ,CAAC;AAAEL,MAAAA,IAAI,EAAE,OAAR;AAAiBP,MAAAA,YAAY,EAAEA;AAA/B,KAAD,CAAR;AACH,GAHD;;AAIA,MAAIc,QAAQ,GAAG,UAAUN,KAAV,EAAiB;AAC5BI,IAAAA,QAAQ,CAAC;AAAEL,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,KAAK,EAAEA;AAAxB,KAAD,CAAR;AACH,GAFD;;AAGA,MAAIO,QAAQ,GAAG,UAAUZ,KAAV,EAAiB;AAC5BS,IAAAA,QAAQ,CAAC;AAAEL,MAAAA,IAAI,EAAE,OAAR;AAAiBJ,MAAAA,KAAK,EAAEA;AAAxB,KAAD,CAAR;AACH,GAFD;;AAGA,SAAO;AACHK,IAAAA,KAAK,EAAEH,KAAK,CAACG,KADV;AAEHP,IAAAA,OAAO,EAAEI,KAAK,CAACJ,OAFZ;AAGHY,IAAAA,KAAK,EAAEA,KAHJ;AAIHC,IAAAA,QAAQ,EAAEA,QAJP;AAKHC,IAAAA,QAAQ,EAAEA,QALP;AAMHZ,IAAAA,KAAK,EAAEE,KAAK,CAACF;AANV,GAAP;AAQH,CArBD;;AAuBA,IAAIa,YAAY,GAAI,UAAUC,IAAV,EAAgB;AAChC,MAAIN,EAAE,GAAGF,eAAe,CAAC,YAAY;AAAE,WAAOQ,IAAI,CAACC,WAAZ;AAA0B,GAAzC,CAAxB;AAAA,MAAoEV,KAAK,GAAGG,EAAE,CAACH,KAA/E;AAAA,MAAsFP,OAAO,GAAGU,EAAE,CAACV,OAAnG;AAAA,MAA4Ga,QAAQ,GAAGH,EAAE,CAACG,QAA1H;AAAA,MAAoIC,QAAQ,GAAGJ,EAAE,CAACI,QAAlJ;AAAA,MAA4JZ,KAAK,GAAGQ,EAAE,CAACR,KAAvK;;AACAnB,EAAAA,SAAS,CAAC,YAAY;AAClB,QAAImC,QAAQ,GAAGF,IAAI,CAACG,kBAAL,CAAwBL,QAAxB,EAAkCD,QAAlC,CAAf;AACA,WAAO,YAAY;AACfK,MAAAA,QAAQ;AACX,KAFD;AAGH,GALQ,EAKN,CAACF,IAAD,CALM,CAAT;AAMA,SAAO,CAACd,KAAD,EAAQF,OAAR,EAAiBO,KAAjB,CAAP;AACH,CATD;;AAWA,SAASQ,YAAT","sourcesContent":["import { useReducer, useEffect } from 'react';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar defaultState = function (defaultValue) {\r\n    return {\r\n        loading: defaultValue === undefined || defaultValue === null,\r\n        value: defaultValue,\r\n    };\r\n};\r\nvar reducer = function () { return function (state, action) {\r\n    switch (action.type) {\r\n        case 'error':\r\n            return __assign({}, state, { error: action.error, loading: false, value: undefined });\r\n        case 'reset':\r\n            return defaultState(action.defaultValue);\r\n        case 'value':\r\n            return __assign({}, state, { error: undefined, loading: false, value: action.value });\r\n        default:\r\n            return state;\r\n    }\r\n}; };\r\nvar useLoadingValue = (function (getDefaultValue) {\r\n    var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n    var _a = useReducer(reducer(), defaultState(defaultValue)), state = _a[0], dispatch = _a[1];\r\n    var reset = function () {\r\n        var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n        dispatch({ type: 'reset', defaultValue: defaultValue });\r\n    };\r\n    var setError = function (error) {\r\n        dispatch({ type: 'error', error: error });\r\n    };\r\n    var setValue = function (value) {\r\n        dispatch({ type: 'value', value: value });\r\n    };\r\n    return {\r\n        error: state.error,\r\n        loading: state.loading,\r\n        reset: reset,\r\n        setError: setError,\r\n        setValue: setValue,\r\n        value: state.value,\r\n    };\r\n});\n\nvar useAuthState = (function (auth) {\r\n    var _a = useLoadingValue(function () { return auth.currentUser; }), error = _a.error, loading = _a.loading, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    useEffect(function () {\r\n        var listener = auth.onAuthStateChanged(setValue, setError);\r\n        return function () {\r\n            listener();\r\n        };\r\n    }, [auth]);\r\n    return [value, loading, error];\r\n});\n\nexport { useAuthState };\n"]},"metadata":{},"sourceType":"module"}